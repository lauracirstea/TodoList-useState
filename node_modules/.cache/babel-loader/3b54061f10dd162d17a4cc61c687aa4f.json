{"ast":null,"code":"import _toConsumableArray from \"C:\\\\work\\\\todoList\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"C:\\\\work\\\\todoList\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect } from \"react\";\n\nfunction useTodos() {\n  var _useState = useState(JSON.parse(localStorage.getItem(\"todos\")) || []),\n      _useState2 = _slicedToArray(_useState, 2),\n      todos = _useState2[0],\n      setTodos = _useState2[1];\n\n  var All = \"All\";\n  var Done = \"Done\";\n  var Todo = \"Todo\";\n\n  var _useState3 = useState(ALL),\n      _useState4 = _slicedToArray(_useState3, 2),\n      activeFilter = _useState4[0],\n      setActiveFilter = _useState4[1];\n\n  useEffect(function () {\n    localStorage.setItem(\"todos\", JSON.stringify(todos));\n  }, [todos]);\n\n  function filterTodos(filter) {\n    switch (filter) {\n      case Done:\n        return todos.filter(function (t) {\n          return t.done === true;\n        });\n\n      case Todo:\n        return todos.filter(function (t) {\n          return t.done === false;\n        });\n\n      default:\n        return todos;\n    }\n  }\n\n  function toggleTodo(id) {\n    var newTodos = _toConsumableArray(todos);\n\n    var index = newTodos.findIndex(function (tod) {\n      return tod.idTodo === id;\n    });\n    newTodos[index].done = !newTodos[index].done;\n    setTodos(newTodos);\n  }\n\n  function deleteItem(id) {\n    var newTodos = _toConsumableArray(todos);\n\n    var index = newTodos.findIndex(function (tod) {\n      return tod.idTodo === id;\n    });\n    newTodos.splice(index, 1);\n    setTodos(newTodos);\n  }\n\n  var todosToDisplay = filterTodos(activeFilter);\n  return {\n    todosToDisplay: todosToDisplay,\n    toggleTodo: toggleTodo,\n    deleteItem: deleteItem,\n    setActiveFilter: setActiveFilter,\n    todos: todos,\n    setTodos: setTodos\n  };\n}\n\nexport default useTodos;","map":{"version":3,"sources":["C:\\work\\todoList\\src\\useTodos.js"],"names":["useState","useEffect","useTodos","JSON","parse","localStorage","getItem","todos","setTodos","All","Done","Todo","ALL","activeFilter","setActiveFilter","setItem","stringify","filterTodos","filter","t","done","toggleTodo","id","newTodos","index","findIndex","tod","idTodo","deleteItem","splice","todosToDisplay"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;AAEA,SAASC,QAAT,GAAoB;AAAA,kBACQF,QAAQ,CAChCG,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,KAA6C,EADb,CADhB;AAAA;AAAA,MACXC,KADW;AAAA,MACJC,QADI;;AAKlB,MAAIC,GAAG,GAAG,KAAV;AACA,MAAIC,IAAI,GAAG,MAAX;AACA,MAAIC,IAAI,GAAG,MAAX;;AAPkB,mBASsBX,QAAQ,CAACY,GAAD,CAT9B;AAAA;AAAA,MASXC,YATW;AAAA,MASGC,eATH;;AAWlBb,EAAAA,SAAS,CAAC,YAAM;AACdI,IAAAA,YAAY,CAACU,OAAb,CAAqB,OAArB,EAA8BZ,IAAI,CAACa,SAAL,CAAeT,KAAf,CAA9B;AACD,GAFQ,EAEN,CAACA,KAAD,CAFM,CAAT;;AAIA,WAASU,WAAT,CAAqBC,MAArB,EAA6B;AAC3B,YAAQA,MAAR;AACE,WAAKR,IAAL;AACE,eAAOH,KAAK,CAACW,MAAN,CAAa,UAAAC,CAAC;AAAA,iBAAIA,CAAC,CAACC,IAAF,KAAW,IAAf;AAAA,SAAd,CAAP;;AACF,WAAKT,IAAL;AACE,eAAOJ,KAAK,CAACW,MAAN,CAAa,UAAAC,CAAC;AAAA,iBAAIA,CAAC,CAACC,IAAF,KAAW,KAAf;AAAA,SAAd,CAAP;;AACF;AACE,eAAOb,KAAP;AANJ;AAQD;;AACD,WAASc,UAAT,CAAoBC,EAApB,EAAwB;AACtB,QAAMC,QAAQ,sBAAOhB,KAAP,CAAd;;AACA,QAAMiB,KAAK,GAAGD,QAAQ,CAACE,SAAT,CAAmB,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,MAAJ,KAAeL,EAAnB;AAAA,KAAtB,CAAd;AACAC,IAAAA,QAAQ,CAACC,KAAD,CAAR,CAAgBJ,IAAhB,GAAuB,CAACG,QAAQ,CAACC,KAAD,CAAR,CAAgBJ,IAAxC;AACAZ,IAAAA,QAAQ,CAACe,QAAD,CAAR;AACD;;AAED,WAASK,UAAT,CAAoBN,EAApB,EAAwB;AACtB,QAAMC,QAAQ,sBAAOhB,KAAP,CAAd;;AACA,QAAMiB,KAAK,GAAGD,QAAQ,CAACE,SAAT,CAAmB,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,MAAJ,KAAeL,EAAnB;AAAA,KAAtB,CAAd;AACAC,IAAAA,QAAQ,CAACM,MAAT,CAAgBL,KAAhB,EAAuB,CAAvB;AACAhB,IAAAA,QAAQ,CAACe,QAAD,CAAR;AACD;;AAED,MAAMO,cAAc,GAAGb,WAAW,CAACJ,YAAD,CAAlC;AAEA,SAAO;AACLiB,IAAAA,cAAc,EAAdA,cADK;AAELT,IAAAA,UAAU,EAAVA,UAFK;AAGLO,IAAAA,UAAU,EAAVA,UAHK;AAILd,IAAAA,eAAe,EAAfA,eAJK;AAKLP,IAAAA,KAAK,EAALA,KALK;AAMLC,IAAAA,QAAQ,EAARA;AANK,GAAP;AAQD;;AAED,eAAeN,QAAf","sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nfunction useTodos() {\r\n  const [todos, setTodos] = useState(\r\n    JSON.parse(localStorage.getItem(\"todos\")) || []\r\n  );\r\n\r\n  let All = \"All\";\r\n  let Done = \"Done\";\r\n  let Todo = \"Todo\";\r\n \r\n  const [activeFilter, setActiveFilter] = useState(ALL);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"todos\", JSON.stringify(todos));\r\n  }, [todos]);\r\n\r\n  function filterTodos(filter) {\r\n    switch (filter) {\r\n      case Done:\r\n        return todos.filter(t => t.done === true);\r\n      case Todo:\r\n        return todos.filter(t => t.done === false);\r\n      default:\r\n        return todos;\r\n    }\r\n  }\r\n  function toggleTodo(id) {\r\n    const newTodos = [...todos];\r\n    const index = newTodos.findIndex(tod => tod.idTodo === id);\r\n    newTodos[index].done = !newTodos[index].done;\r\n    setTodos(newTodos);\r\n  }\r\n\r\n  function deleteItem(id) {\r\n    const newTodos = [...todos];\r\n    const index = newTodos.findIndex(tod => tod.idTodo === id);\r\n    newTodos.splice(index, 1);\r\n    setTodos(newTodos);\r\n  }\r\n\r\n  const todosToDisplay = filterTodos(activeFilter);\r\n\r\n  return {\r\n    todosToDisplay,\r\n    toggleTodo,\r\n    deleteItem,\r\n    setActiveFilter,\r\n    todos,\r\n    setTodos\r\n  };\r\n}\r\n\r\nexport default useTodos;\r\n"]},"metadata":{},"sourceType":"module"}